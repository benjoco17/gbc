// gravityforms-eway-pro
// https://gfeway.webaware.net.au/
!function(a){function b(b,c){var d=a(c);b?d.show():d.hide()}function c(){b("-1"===a("#recurringTimes_times").val(),"#recurringTimes_mapped")}function d(){b("-1"===a("#billingCycle_length").val(),"#billingCycle_mapped")}function e(){b("-1"===a("#recurringStart_length").val(),"#recurringStart_mapped")}function f(){b("off"!==a("input[name='_gaddon_setting_rememberCustomer']:checked").val(),"#gaddon-setting-checkbox-choice-remembercustomer_no_tx")}function g(){a("#recurringStart_length").val(1).hide()}a("#custom_connection").change(function(){b(this.checked,"#gfewaypro-settings-connection")}).trigger("change"),a("input[name='_gaddon_setting_feedMethod']").change(function(){function d(a){b(a,"#gaddon-setting-row-paymentMethod")}function e(a){b(a,"#gfewaypro-settings-token-payments"),a&&f()}function g(c){b(c,"#gfewaypro-settings-shared");var d=!!c&&+a("input[name='_gaddon_setting_delayNotify']").val();b(d,"#gfewaypro-settings-deprecated-notification")}function h(c){c||a("input[name='_gaddon_setting_shippingAddress'][value='empty']").prop("checked",!0).change(),b(c,"#gaddon-setting-row-shippingAddress")}function i(a){b(a,"#gfewaypro-settings-recurring"),a&&c()}function j(a){b(a,"#gaddon-setting-row-mappedFields tr:has(select[id^='mappedFields_option'])")}if(this.checked)switch(this.value){case"shared":d(!0),e(!0),g(!0),h(!0),i(!1),j(!0);break;case"recurxml":d(!1),e(!1),g(!1),h(!1),i(!0),j(!1);break;default:d(!0),e(!0),g(!1),h(!0),i(!1),j(!0)}}).trigger("change"),a("#recurringTimes_times").change(c),a("#billingCycle_length").change(d),a("#recurringStart_length").change(e),a("input[name='_gaddon_setting_rememberCustomer']").change(f),a("input[name='_gaddon_setting_shippingAddress']").change(function(){if(this.checked){var b=a("#gaddon-setting-row-mappedFields select[id^='mappedFields_ship']").closest("tr");"mapped"===this.value?b.show():b.hide()}}).trigger("change"),a("#billingCycle_unit").on("change",function(){for(var b=a(this).val(),c=gfewaypro_feed.billing,e=c.cycles[b],f="<option value='-1'>"+c.msg.mapped+"</option><option value='"+e.min+"' selected='selected'>"+e.min+"</option>",g=e.min+1;g<=e.max;g++)f+="<option value='"+g+"'>"+g+"</option>";a("#billingCycle_length").html(f),d()}),a("#recurringStart_unit").on("change",function(){var c=a(this).val(),d=gfewaypro_feed.startbilling,f=d.cycles[c];switch(c){case"now":g(),b(!1,"#recurringStart_date");break;case"mapped":g(),b(!0,"#recurringStart_date");break;default:for(var h="<option value='-1'>"+d.msg.mapped+"</option><option value='"+f.min+"' selected='selected'>"+f.min+"</option>",i=f.min+1;i<=f.max;i++)h+="<option value='"+i+"'>"+i+"</option>";a("#recurringStart_length").html(h).show(),b(!1,"#recurringStart_date")}e()}),a("#delaynotify").on("change",function(){b(this.checked,"#gaddon-setting-row-delayNotifications")}).trigger("change"),a("input.gfeway-notification-checkbox").on("click change",function(){var b={};a(".gfeway-notification-checkbox").each(function(){b[this.value]=this.checked?1:0}),a("#delayNotifications").val(a.toJSON(b))})}(jQuery);